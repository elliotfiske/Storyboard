<html>
<head>
  <script src="https://cdn.firebase.com/v0/firebase.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
  <script type='text/javascript'
    src='https://cdn.firebase.com/js/simple-login/1.2.5/firebase-simple-login.js'>
  </script>
</head>
<body>
<div id= "page">
  <p>
    <a href="javascript:auth.login('facebook', {
    scope: 'email'
  });">Launch demo Â»</a>
  </p>
</div>

<script>
    // instatiate the FirebaseSimpleLogin and monitor the user's auth state
    var chatRef = new Firebase('https://blazing-fire-9099.firebaseio.com');
    var userData;
    var auth = new FirebaseSimpleLogin(chatRef, function(error, user) {
      if (error) {
        // an error occurred while attempting login
        alert(error);
      } else if (user) {
        userData = user;

            alert('User ID: ' + userData.id + ', Provider: ' + userData.provider + ', displayName: ' + userData.displayName);

            userData.profilePicture = "https://graph.facebook.com/" + userData.id + "/picture";
            if(userData.profilePicture) {
            var img = document.createElement("img");
            img.src = userData.profilePicture;
            src = document.getElementById("page");
            src.appendChild(img);
          }
        
      } else {
        // user is logged out
      }
    });
  </script>
</body>
</html>
